export default defineNuxtPlugin(() => {
  // const user = useSupabaseUser()
  // globally watch user and route. If a user and a redirect query param exist:
  // watchEffect(() => {
  //   const route = useRoute()
  //   if (user.value) {
  //     if (route.query.redirect)
  //       navigateTo({ path: route.query.redirect as string })
  //   }
  //   else {
  //     if (route.name !== 'login')
  //       navigateTo({ name: 'login', query: { redirect: route.path } })
  //   }
  // })
})

